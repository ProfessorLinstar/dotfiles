#!/bin/bash

################################################################################
# Program: vis
# Description: Calls vi -S on first Session.vim file in prefix of current
#              working directory. If successful, remains in Session.vim
#              directory; otherwise, returns to original directory. To make
#              changes in main process as well, call "source vis".
# Location: /usr/local/bin/vis
################################################################################

function color { printf "\x1b[48;5;%sm%3d\e[0m " "$1" "$1"; }

for i in {0..15}; do
  color $i
done
echo -e "\n"

for row in {0..1}; do
  for i in {0..5}; do
    for col in {0..2}; do
      for j in {0..5}; do
        color $((16 + 108*row + 6*i + 36*col + j))
      done
      printf " "
    done
    echo
  done
  echo
done

for i in {232..255}; do
  color $i
  if (( (i-231) % 12 == 0 )); then echo; fi
done
